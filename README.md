# Генератор синтетического корпуса инвойсов

## Назначение проекта

Данный проект представляет собой инструментарий для автоматической генерации тестового набора синтетических инвойсов в формате PDF. Созданный корпус будет содержать документы разных уровней сложности для тестирования алгоритмов извлечения данных.

Основная цель - создание набора документов, который позволит систематически оценивать эффективность различных подходов к обработке слабоструктурированных документов.

## Структура проекта

```
invoice-generator/
├── notebooks/                       # Jupyter-блокноты для интерактивной разработки
│   ├── 01_data_preparation.ipynb    # Подготовка и анонимизация данных
│   ├── 02_synthetic_generation.ipynb # Генерация синтетических данных
│   ├── 03_pdf_generation.ipynb      # Генерация PDF-документов
│   └── 04_corpus_validation.ipynb   # Валидация и анализ корпуса
│
├── utils/                           # Утилиты для работы с данными и PDF
│   ├── __init__.py
│   ├── data_utils.py                # Функции для обработки данных
│   └── pdf_utils.py                 # Функции для генерации PDF
│
├── templates/                       # Шаблоны для генерации PDF-документов
│   ├── basic/                       # Шаблоны базовой сложности
│   ├── standard/                    # Шаблоны стандартной сложности
│   ├── advanced/                    # Шаблоны повышенной сложности
│   └── complex/                     # Шаблоны высокой сложности
│
├── data/                            # Директории для данных
│   ├── base/                        # Исходные данные (анонимизированные)
│   ├── synthetic/                   # Сгенерированные синтетические данные
│   └── output/                      # Готовые PDF и их метаданные
│
├── config/                          # Конфигурационные файлы
│   ├── generation_config.json       # Параметры генерации
│   └── templates_config.json        # Настройки шаблонов
│
└── requirements.txt                 # Зависимости проекта
```

## Классификация документов по сложности

Генератор создает 4 типа документов с различной степенью сложности обработки:

### 1. Базовый уровень сложности
- Четкая структура с явными разделами
- Однозначная терминология
- Один язык
- Стандартное представление чисел и дат

### 2. Стандартный уровень сложности
- Умеренно структурированные документы
- Незначительные вариации в шаблонах
- Преимущественно один язык с некоторыми иностранными терминами
- Стандартные форматы с незначительными отклонениями

### 3. Повышенный уровень сложности
- Более сложная структура с вариативностью
- Частичная многоязычность
- Вариативное представление чисел и дат
- Умеренная неоднозначность терминологии

### 4. Высокий уровень сложности
- Нерегулярная структура с существенными вариациями
- Активное использование нескольких языков
- Разнообразные форматы данных
- Высокая степень неоднозначности терминологии

## Пошаговый план реализации

### Этап 1: Подготовка инфраструктуры проекта
- Создание структуры директорий
- Настройка виртуального окружения
- Установка необходимых зависимостей
- Создание базовых конфигурационных файлов

### Этап 2: Подготовка и анонимизация данных
- Генерация синтетических данных о производителях
- Создание коллекций и типов продуктов
- Генерация синтетических продуктов
- Создание набора магазинов
- Генерация исходных инвойсов и их содержимого

### Этап 3: Разработка шаблонов документов
- Создание шаблонов для базового уровня сложности
- Разработка шаблонов стандартного уровня
- Создание шаблонов повышенной сложности
- Разработка шаблонов высокого уровня сложности

### Этап 4: Генерация PDF-документов
- Разработка функций для создания PDF на основе шаблонов
- Генерация документов различных уровней сложности
- Создание метаданных для каждого документа
- Организация файлов по директориям

### Этап 5: Валидация и анализ корпуса
- Проверка соответствия документов заявленным уровням сложности
- Статистический анализ характеристик корпуса
- Визуализация распределения документов по характеристикам
- Создание каталога корпуса с метаданными

## Технические требования

- Python 3.8 или выше
- Основные зависимости:
  - pandas, numpy - для работы с данными
  - faker - для генерации синтетических данных
  - reportlab - для создания PDF-документов
  - jupyter - для интерактивной разработки
  - matplotlib, seaborn - для визуализации результатов

## Использование проекта

1. Клонировать репозиторий
2. Установить зависимости из requirements.txt
3. Последовательно выполнить Jupyter-блокноты:
   - 01_data_preparation.ipynb
   - 02_synthetic_generation.ipynb
   - 03_pdf_generation.ipynb
   - 04_corpus_validation.ipynb
4. Результаты будут доступны в директории data/output/