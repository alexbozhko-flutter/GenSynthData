# Feiler Document Generator

Система генерации документов для компании Feiler. Позволяет создавать различные типы документов в форматах HTML и PDF с использованием единой системы шаблонов.

## Особенности

- Единая система шаблонов для всех типов документов
- Поддержка многостраничных документов
- Автоматическая генерация HTML и PDF форматов
- Гибкая система стилей и форматирования
- Поддержка шрифтов и изображений
- Масштабируемая архитектура для добавления новых типов документов

## Структура проекта

```
GenSynthData/
└── invoice-generator/
    ├── README.md                  # Документация проекта
    ├── requirements.txt           # Зависимости Python
    ├── templates/                 # Шаблоны документов
    │   ├── base/                 # Базовые классы и утилиты
    │   │   ├── __init__.py
    │   │   ├── generator.py      # Базовый класс генератора
    │   │   └── utils.py         # Общие утилиты
    │   └── invoice/             # Шаблон 001: Инвойс
    │       ├── __init__.py
    │       ├── generator.py     # Генератор инвойса
    │       ├── html/           # HTML шаблоны
    │       │   ├── template.html
    │       │   └── styles.css
    │       └── assets/         # Ресурсы шаблона
    ├── data/                    # Данные
    │   ├── sample/             # Примеры (игнорируются git)
    │   └── output/             # Сгенерированные файлы (игнорируются git)
    └── scripts/                # Скрипты для тестирования
        └── test_invoice.py
```

## Шаблоны документов

### 001 - Invoice (Инвойс)
- Основной шаблон для выставления счетов
- Поддержка многостраничности (до 25 позиций на документ)
- Автоматическая разбивка товаров по страницам:
  - Первая страница: до 8 позиций
  - Последующие страницы: до 12 позиций
- Поддержка форматов HTML и PDF
- Автоматическая нумерация страниц
- Встроенные шрифты и стили

## Установка и использование

1. Установка зависимостей:
```bash
pip install -r requirements.txt
```

2. Базовое использование:
```python
from templates.invoice import InvoiceGenerator

# Создание генератора
generator = InvoiceGenerator()

# Подготовка данных
data = {
    "SENDER": "Ernst Feiler GmbH",
    "CUSTOMER_FULL_ADDRESS": "...",
    # Другие поля данных
}

# Генерация документов
html_path, pdf_path = generator.generate_both(
    data,
    "output/invoice.html",
    "output/invoice.pdf"
)
```

3. Запуск тестового примера:
```bash
python scripts/test_invoice.py
```

## Правила разработки

1. Каждый тип документа должен:
   - Иметь уникальный трехзначный номер (например, 001 для инвойсов)
   - Располагаться в отдельной директории в `templates/`
   - Наследоваться от базового класса `BaseGenerator`
   - Иметь собственные HTML шаблоны и стили

2. Структура данных:
   - Тестовые данные размещаются в `data/sample/` (игнорируются git)
   - Сгенерированные файлы сохраняются в `data/output/` (игнорируются git)
   - Общие ресурсы (шрифты, изображения) хранятся в `assets/`

3. Тестирование:
   - Каждый шаблон должен иметь тестовый скрипт в директории `scripts/`
   - Тесты должны демонстрировать все основные возможности шаблона
   - Тестовые данные должны быть максимально приближены к реальным 